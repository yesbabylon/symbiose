{
    "name": "Time entries",
    "description": "Default listing of all time entries.",
    "controller": "timetrack_timeentry-collect",
    "domain": ["object_class", "=", "timetrack\\Project"],
    "order": "date,time_start",
    "sort": "desc",
    "limit": 100,
    "operations": {
        "total": {
            "duration": {
                "operation": "SUM",
                "usage": "time/plain"
            },
            "billable_duration": {
                "operation": "SUM",
                "usage": "time/plain"
            },
            "total": {
                "operation": "SUM",
                "usage": "amount/money:2"
            }
        }
    },
    "header": {
        "selection": {
            "show_inline": ["action.transition.ready"],
            "actions" : [
                {
                    "id": "action.transition.ready",
                    "label": "Ready",
                    "icon": "play_arrow",
                    "controller": "model_transition",
                    "params": {
                        "entity": "timetrack\\TimeEntry",
                        "transition": "submit"
                    }
                },
                {
                    "id": "action.transition.validate",
                    "label": "Validate",
                    "icon": "task_alt",
                    "controller": "model_transition",
                    "params": {
                        "entity": "timetrack\\TimeEntry",
                        "transition": "validate"
                    }
                }
            ]
        }
    },
    "actions": [
        {
            "id": "action.create-empty",
            "label": "Quick create",
            "description": "Quickly create a time entry to be modified afterward.",
            "controller": "timetrack_timeentry_create-quick",
            "confirm": true
        }
    ],
    "layout": {
        "items": [
            {
                "type": "field",
                "value": "name",
                "width": "25%",
                "sortable": true,
                "readonly": true
            },
            {
                "type": "field",
                "label": "Performed by",
                "value": "user_id",
                "width": "15%",
                "sortable": true,
                "readonly": true
            },
            {
                "type": "field",
                "label": "Customer",
                "value": "customer_id",
                "width": "10%",
                "sortable": true,
                "readonly": true,
                "visible": false
            },
            {
                "type": "field",
                "label": "Project",
                "value": "project_id",
                "width": "10%",
                "sortable": true,
                "readonly": true
            },
            {
                "type": "field",
                "label": "Origin",
                "value": "origin",
                "width": "5%",
                "sortable": true,
                "readonly": true
            },
            {
                "type": "field",
                "label": "Ticket link",
                "value": "ticket_link",
                "width": "5%",
                "sortable": true,
                "readonly": true,
                "visible": false
            },
            {
                "type": "field",
                "label": "Is billable",
                "value": "is_billable",
                "width": "10%",
                "sortable": true,
                "readonly": true,
                "visible": false
            },
            {
                "type": "field",
                "label": "Has receivable",
                "value": "has_receivable",
                "width": "10%",
                "sortable": true,
                "readonly": true,
                "visible": false
            },
            {
                "type": "field",
                "label": "Date",
                "value": "date",
                "width": "10%",
                "sortable": true,
                "widget": {
                    "usage": "date/plain.short"
                }
            },
            {
                "type": "field",
                "label": "Start",
                "value": "time_start",
                "width": "10%",
                "sortable": true
            },
            {
                "type": "field",
                "label": "End",
                "value": "time_end",
                "width": "10%",
                "sortable": true
            },
            {
                "type": "field",
                "label": "Duration",
                "value": "duration",
                "width": "10%",
                "sortable": true
            },
            {
                "type": "field",
                "label": "Billable",
                "value": "billable_duration",
                "width": "10%",
                "sortable": true
            },
            {
                "id": "item.status",
                "type": "field",
                "label": "Status",
                "value": "status",
                "width": "10%",
                "sortable": true,
                "readonly": true
            },
            {
                "id": "item.total",
                "type": "field",
                "label": "Amount",
                "value": "total",
                "width": "10%",
                "sortable": true,
                "readonly": true
            }
        ]
    }
}
